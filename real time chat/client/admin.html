<!DOCTYPE html><html><head>
<meta charset="UTF-8"><title>Admin Dashboard</title>
<link rel="stylesheet" href="style.css">
</head><body>
<div class="form-container">
  <h2>Pending Users</h2>
  <ul id="pending"></ul>
</div>
<script>
async function load() {
  const list = await fetch('/api/admin/unapproved').then(r => r.json());
  const ul = document.getElementById('pending');
  ul.innerHTML = '';
  list.forEach(u => {
    const li = document.createElement('li');
    li.innerHTML = `${u.username}
      <button onclick="approve('${u.username}')">Approve</button>
      <button onclick="del('${u.username}')">Delete</button>`;
    ul.appendChild(li);
  });
}
async function approve(name) {
  await fetch('/api/admin/approve',{method:'POST', headers:{'Content-Type':'application/json'}, body:JSON.stringify({username:name})});
  load();
}
async function del(name) {
  await fetch('/api/admin/delete',{method:'POST', headers:{'Content-Type':'application/json'}, body:JSON.stringify({username:name})});
  load();
}
load();
</script>
</body></html>
